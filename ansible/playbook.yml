---
- hosts: minecraft_servers  # The group of hosts as defined in your Ansible hosts file
  become: true  # Assumes superuser privileges
  tasks:
    - name: Transfer Docker image tarball to EC2
      copy:
        src: "/home/ubuntu/Desktop/minecraft_server.tar"
        dest: "/home/ubuntu/minecraft_server.tar"
    
    - name: Transfer SSH key to EC2
      copy:
        src: "/home/ubuntu/Desktop/mykeypair.pem"
        dest: "/home/ubuntu/mykeypair.pem"
        mode: '0400'  # Ensures the key file is not publicly readable